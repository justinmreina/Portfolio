<!------------------------------------------------------------------------------------------------------------------------------------
/* @file		  index.html
 * 	@brief		main for justinreina.com
 * 	@details	Portfolio & personal content
 *
 * 	@author		Justin Reina, Firmware Engineer
 * 	@created	11/3/21
 * 	@last rev	11/6/21
 *
 *
 * 	@section	  Config
 *      tab: 2 spaces
 *
 *  @section    Reference
 *      @url https://trello.com/b/OEXOos5m/website-gen
 *
 * 	@section	Legal Disclaimer
 * 			Â© 2021 Justin Reina, All rights reserved. All contents of this source file and/or any other related source  
 *			files are the explicit property of Justin Reina. Do not distribute. Do not copy.
*/
<------------------------------------------------------------------------------------------------------------------------------------>
<!doctype html>

<html>

<head>
  <title>Justin's Site</title>

  <!--------------------------------------------------------------------------------------------------------------------------------->
  <!--                                                        CSS STYLES                                                           -->
  <!--------------------------------------------------------------------------------------------------------------------------------->
  <script type="text/javascript" src="pages.js"></script>                   <!-- page setup information                            -->
  <script type="text/javascript" src="util.js"></script>                    <!-- common utilities                                  -->

  <style type="text/css">                                                   /* a general style for clean layout                     */
    .tab { 
      margin-left: 40px; 
    }
  </style>

  <meta charset="utf-8">

  <!------------------------------------------------------------- Body -------------------------------------------------------------->
  <style>
    body {
      background-image: url("img/boardroom.jpg");
      background-repeat:no-repeat;
      background-position: top;
      background-size: cover;
      background-color: black;
      position: relative;
      height: 100%;
      color:white;
      margin-top: 0px;
    }

    <!------------------------------------------------------------- Menu ------------------------------------------------------------>
    .brightness {                                                           /* icon brightness & toggle for tap                     */
      display: inline-block;
    }
    .brightness img:hover {
      opacity: .5;
    }

    .sidenav {                                                              /* sidebar shading                                      */
      height: 100%;
      width: 0;
      position: fixed;
      z-index: 1;
      top: 0;
      left: 0;
      background-color: #111;
      overflow-x: hidden;
      transition: 0.5s;
      padding-top: 60px;
    }

    .sidenav a {
      padding: 8px 8px 8px 32px;
      text-decoration: none;
      font-size: 25px;
      color: #818181;
      display: block;
      transition: 0.3s;
    }

    .sidenav a:hover {
      color: #f1f1f1;
    }

    .sidenav .closebtn {
      position: absolute;
      top: 0;
      right: 25px;
      font-size: 36px;
      margin-left: 50px;
    }

    @media screen and (max-height: 450px) {
      .sidenav {padding-top: 15px;}
      .sidenav a {font-size: 18px;}
    }
  </style>

  <script>
    <!------------------------------------------------------------------------------------------------------------------------------->
    <!--                                                            DATA                                                           -->
    <!------------------------------------------------------------------------------------------------------------------------------->  

    //Variables
    var header_canvas;                                                    /* drawing canvas for upper header bar                    */
    var header_ctx;                                                       /* drawing canvas context for render                      */
    var moveTask;                                                         /* task for moving the signature logo                     */

    const XWIDTH = window.innerWidth;                                     /* width of screen display                                */

    var activePageTitle;                                                  /* name for display of current selected page              */

    var tabNotMain;                                                  			/* current or target tab is not the main home tab         */
    var lastTabNotMain;                                             			/* to help with animation & catching the interim state    */
    var movingDir;                                                   			/* T: right, F: back to center                            */
    
    const SIDENAV_WIDTH = "310px";

    <!------------------------------------------------------------------------------------------------------------------------------->
    <!--                                                            LOGO                                                           -->
    <!------------------------------------------------------------------------------------------------------------------------------->  
		//Constants
		const SCROLL_DX = 15;
    const SCROLL_DS = 0.985;

    var logo_sliding = false;                                             /* header logo bar slide activity state                   */

    var logo_scale = 1;                                                   /* scale value for signature image                        */
    var logo_width = (2000/15.4)*1.15;;                                   /* width of logo                                          */
    var logo_height = (1240/15.4)/1.60;                                   /* height of logo                                         */
    var logo_x0 = XWIDTH/2 - logo_width;                                  /* signature starting location                            */
    var logo_y0 = 5;                                                      /* signature starting location                            */
    var logo_pos = getSigInitPos();                                       /* position of signature image                            */

    var logo_img;                                                         /* header signature image                                 */

    //Constants
    const DRAW_DX_OFFS_OUT = (XWIDTH-400);
    const DRAW_DX_OFFS_IN  = (XWIDTH-600);
    const LOGO_OUT_X_STOP  = (XWIDTH-150);
    const LOGO_IN_X_STOP   = ((XWIDTH/2)-logo_width);

    const DT_SLIDE_OUT_MS = 1;
    const DT_SLIDE_IN_MS  = 1;

    <!------------------------------------------------------------------------------------------------------------------------------->
    <!--                                                           CONFIG                                                          -->
    <!------------------------------------------------------------------------------------------------------------------------------->

    <!------------------------------------------------------------------------------------------------------------------------------->
    <!-- @fcn		  getSigInitPos()																		                                                               -->
    <!-- @brief		get initial position of signature										                                                             -->
    <!-- @details	x								                                                                                                 -->
    <!-- 																		                                                                                       -->
    <!-- @ret 	(struct) pos = position of signature to begin					                                                             -->
    <!-- 														                                                                                               -->
    <!------------------------------------------------------------------------------------------------------------------------------->
    function getSigInitPos() {

      let pos = {
        x: logo_x0,
        y: logo_y0,
        width:  logo_width,
        height: logo_height
      }

      return pos;
    }

    <!------------------------------------------------------------------------------------------------------------------------------->
    <!-- @fcn		  getSigIdlePos()	 						                                                                                     -->
    <!-- @brief		get final position of signature											       				                                               -->
    <!-- @details	x																										                                                             -->
    <!-- 																													                                                                 -->
    <!-- @ret 	(struct) pos = position of signature for suboages	                                                                 -->
    <!-- 																													                                                                 -->
    <!------------------------------------------------------------------------------------------------------------------------------->
    function getSigIdlePos() {

      var pos = {
        x: XWIDTH-102,
        y: 20,
        width:  logo_width*0.4,
        height: logo_height*0.4
      }

      return pos;
    }
    
    const NUM_STEPS = (getSigIdlePos().x-getSigInitPos().x)/SCROLL_DX;;
    const SPAN_Y = (getSigIdlePos().y-getSigInitPos().y);

    const SCROLL_DY = (SPAN_Y/NUM_STEPS);


    <!------------------------------------------------------------------------------------------------------------------------------->
    <!--                                                     POSITION & SETUP                                                      -->
    <!------------------------------------------------------------------------------------------------------------------------------->

    <!------------------------------------------------------------------------------------------------------------------------------->
    <!-- @fcn		  fitMain(size)														                                                									       -->
    <!-- @brief		fit the subpage window to a specified height                 											                               -->
    <!-- @details	x																										                                                             -->
    <!-- 																													                                                                 -->
    <!-- @param		[in] (int) size - height to resize the window  												                                           -->
    <!-- 																													                                                                 -->
    <!------------------------------------------------------------------------------------------------------------------------------->
    function fitMain(size) {
      var sec = document.getElementById("mainDiv");
      sec.style.height=size;									                              /* Resize table                                         */
    } 		

    <!------------------------------------------------------------------------------------------------------------------------------->
    <!-- @fcn		  scrollToTop()																							                                                       -->
    <!-- @brief		scroll window to top of screen																			                                             -->
    <!-- @details	x																										                                                             -->
    <!------------------------------------------------------------------------------------------------------------------------------->
    function scrollToTop() {
      window.scrollTo({ top: 0, behavior: "smooth" });
    }

    <!------------------------------------------------------------------------------------------------------------------------------->
    <!--                                                       MENU RESPONSE                                                       -->
    <!------------------------------------------------------------------------------------------------------------------------------->

    <!------------------------------------------------------------------------------------------------------------------------------->
    <!-- @fcn		menuSel()																							  	                                                         -->
    <!-- @brief		open or close the menu sidebar																			                                             -->
    <!-- @details	x																										                                                             -->
    <!------------------------------------------------------------------------------------------------------------------------------->
    function menuSel() {

      var x = document.getElementById("mySidenav").style.width;

      if(x > "0px") {
        closeNav();
      } else {
        openNav();
      }
    }

    <!------------------------------------------------------------------------------------------------------------------------------->
    <!-- @fcn		openNav() 																							  	                                                       -->
    <!-- @brief		open the side navigation menu																			                                               -->
    <!-- @details	x																										                                                             -->
    <!------------------------------------------------------------------------------------------------------------------------------->
    function openNav() {
      document.getElementById("mySidenav").style.width = SIDENAV_WIDTH;
    }

    <!------------------------------------------------------------------------------------------------------------------------------->
    <!-- @fcn		  closeNav()																							  	                                                     -->
    <!-- @brief		close the side navigation menu																			                                             -->
    <!-- @details	x																										                                                             -->
    <!------------------------------------------------------------------------------------------------------------------------------->
    function closeNav() {
      document.getElementById("mySidenav").style.width = "0";
    }

    <!------------------------------------------------------------------------------------------------------------------------------->
    <!-- @fcn		  clickResp(msg)																				                                                  			   -->
    <!-- @brief		Switch page & update header bar																		                                               -->
    <!-- @details	x																										                                                             -->
    <!-- 																													                                                                 -->
    <!-- @param		[in] (string) msg - Message to display on header bar  												                                   -->
    <!-- 																													                                                                 -->
    <!------------------------------------------------------------------------------------------------------------------------------->
    function clickResp(msg) {

      //Get page info
      var filename   = getPageFileName(msg); 
      var pageHeight = getPageSize(msg);

      //close & pause
      closeNav();
      delay_ms(250);

      //Load page
      document.getElementById('centerpage').src = filename;
      fitMain(pageHeight);

      //Update Header Bar
      updateHeader(msg);

      //Scroll & Reset
      scrollToTop();  
    }

    <!------------------------------------------------------------------------------------------------------------------------------->
    <!-- @fcn		    prepareSlide(dir) 																		                                                         -->
    <!-- @brief			setup state for next slide animation of logo 													                                         -->
    <!-- @details	  x`		                                                                                                         -->
    <!-- 																													                                                                 -->
    <!-- @param		  [in] (bool) dir - direction to prepare (T: right, F: back to center)  	                                       -->
    <!-- 																													                                                                 -->
    <!------------------------------------------------------------------------------------------------------------------------------->
		function prepareSlide(dir) {
			
			if(dir) {																															/* moving to the right 																	*/
					tabNotMain     = false; 
					lastTabNotMain = true; 
					movingDir      = false;
			} else {																															/* moving back to center 																*/
					tabNotMain     = true;
					lastTabNotMain = false; 
					movingDir      = true;
			}
		}

    <!------------------------------------------------------------------------------------------------------------------------------->
    <!-- @fcn		    updateHeader(page) 																		                                                         -->
    <!-- @brief			update the displayed page 													                                                           -->
    <!-- @details	  sets page label & size   												                                                               -->
    <!-- 																													                                                                 -->
    <!-- @param		  [in] (string) page - page for selection         												                                       -->
    <!-- 																													                                                                 -->
    <!-- @warn    does not respond while slider in motion 				                                                                 -->
    <!-- 																													                                                                 -->
    <!------------------------------------------------------------------------------------------------------------------------------->	
    function updateHeader(page) {

      //Locals
      var alreadyAtThisHeader;                                              /* update requested to current tab                      */
   
      //Check status
      alreadyAtThisHeader = (page == activePageTitle);
      
      //Quirk...
      if(activePageTitle == "") {                                           /* @todo    this is sloppy fix this                     */
        alreadyAtThisHeader = (page == "Home");
      }      

      //Pre(Safety)
      if(logo_sliding == true) {
        console.log(">>warn: updateHeader() ignored, header moving");
        return;
      } else if (alreadyAtThisHeader) {
        console.log(">>warn: updateHeader() ignored, header already there");
        return;
      } else {
        console.log(">>warn: updateHeader() '" + page + "', '" + activePageTitle + "'");
      }

      //Clear
      header_ctx.clearRect(0, 0, header_canvas.width, header_canvas.height);	
      
      //Update
      logo_sliding = true;

      //Update Display
      if((page == null)||(page == 'Home')) {
				printMsg("Fa", "Sb", "updateHeader(Home)");
        prepareSlide(true);
        moveTask = setInterval(signature_move, DT_SLIDE_IN_MS);
        activePageTitle = "";																								/* leave empty if used																	*/
				console.log("Begin move in");
      } else {
        printMsg("Fc", "Sd", "updateHeader(Page)"); 
				prepareSlide(false);
        moveTask = setInterval(signature_move, DT_SLIDE_OUT_MS);
        activePageTitle = page;
        console.log("Begin move out");
				logo_scale     = 1.0;																						    /* reset to full value (safety)												  */
      }
    }

    <!------------------------------------------------------------------------------------------------------------------------------->
    <!--                                                      SIGNATURE LOGO                                                       -->
    <!------------------------------------------------------------------------------------------------------------------------------->

    <!------------------------------------------------------------------------------------------------------------------------------->
    <!-- @fcn		  signature_move()   		 												      				                                                     -->
    <!-- @brief		move the signature from center to right      															                                       -->
    <!-- @details	x																										                                                             -->
    <!--                                                                                                                           -->
    <!-- @assum   not called while moving                                                                                          -->
    <!--                                                                                                                           -->
    <!------------------------------------------------------------------------------------------------------------------------------->		 
    function signature_move() {

      //Clear Header
      header_ctx.clearRect(0, 0, header_canvas.width, header_canvas.height);	

//!!! console.log(logo_pos.x);

      if(movingDir == true) {                                               /* moving out                                           */
        
        //Update Vars
        logo_pos.x += SCROLL_DX;
        logo_pos.y += SCROLL_DY;
        logo_scale *= SCROLL_DS;
                
        //Draw Logo
        logo_img = new Image();
        logo_img.src = "img/Signature-logo_web.png";   
        logo_img.onload = function () { 
          header_ctx.drawImage(logo_img, logo_pos.x, logo_pos.y, logo_pos.width*logo_scale, logo_pos.height*logo_scale);
        }

        //Draw Text      
        if(logo_pos.x >DRAW_DX_OFFS_OUT) {

          if(tabNotMain) {

            header_ctx.fillStyle = "#FFFFFF";                               /* load tab text                                        */
            header_ctx.font = "30px Arial";
            header_ctx.fillText(activePageTitle, (XWIDTH/2)-((2000/15.4)/2), 50);
          }
        }

        //Stop if complete
        if(logo_pos.x > LOGO_OUT_X_STOP ) {
          window.clearInterval(moveTask);
					prepareSlide(false);
          logo_sliding = false;
          
          console.log("Move out complete");
        }
      } else {                                                              /* moving in                                            */

        //Update Vars
        logo_pos.x -= SCROLL_DX;
        logo_pos.y -= SCROLL_DY; 
        logo_scale /= SCROLL_DS;

        //Draw Logo
        logo_img = new Image();
        logo_img.src = "img/Signature-logo_web.png";   
        logo_img.onload = function () { 
          header_ctx.drawImage(logo_img, logo_pos.x, logo_pos.y, logo_pos.width*logo_scale, logo_pos.height*logo_scale);
        }			

        //Draw Text
        if(logo_pos.x < DRAW_DX_OFFS_IN) {

          if(lastTabNotMain) {
            header_ctx.fillStyle = "#FFFFFF";                               /* load tab text                                        */
            header_ctx.font = "30px Arial";
            header_ctx.fillText(activePageTitle, (XWIDTH/2)-((2000/15.4)/2), 50);
          }
        }

        //Stop if complete
        if(logo_pos.x < LOGO_IN_X_STOP) {
          window.clearInterval(moveTask);
					prepareSlide(true);          
          logo_sliding = false;
					
          console.log("Move in complete");
           
          //Reset  Position (safety)
          logo_pos = getSigInitPos();
        }
      }
    }

    <!------------------------------------------------------------------------------------------------------------------------------->
    <!-- @fcn		  signature_init(loc)   		 																                                                       -->
    <!-- @brief		init header signature for 'Home' page display															                                       -->
    <!-- @details	x																										                                                             -->
    <!------------------------------------------------------------------------------------------------------------------------------->		 
    function signature_init() {

      var logo_img;                                                         /* header signature image                               */

      printMsg("Ff", "Sg", "signature_init()");
      
      //Load Signature
      logo_pos = getSigInitPos();
      logo_img = new Image();
      logo_img.src = "img/Signature-logo_web.png";   
      logo_img.onload = function () { 
        header_ctx.drawImage(logo_img, logo_pos.x, logo_pos.y, logo_pos.width*logo_scale, logo_pos.height*logo_scale);
      }			
    }

    <!------------------------------------------------------------------------------------------------------------------------------->
    <!--                                                    COMMON UTILITIES                                                       -->
    <!------------------------------------------------------------------------------------------------------------------------------->

    <!------------------------------------------------------------------------------------------------------------------------------->
    <!-- @fcn		  delay_ms(miliseconds)																				                                                  	 -->
    <!-- @brief		delay routine																		                                                                 -->
    <!-- @details	x																										                                                             -->
    <!-- 																													                                                                 -->
    <!-- @param		[in] (int) miliseconds - time value for delay in miliseconds 									                                   -->
    <!-- 																													                                                                 -->
    <!------------------------------------------------------------------------------------------------------------------------------->
    function delay_ms(miliseconds) {

      var startTime = new Date().getTime();

      while((startTime + miliseconds) >= (new Date().getTime())) {
      }
    }
    
    <!------------------------------------------------------------------------------------------------------------------------------->
    <!--                                                    COMMON UTILITIES                                                       -->
    <!------------------------------------------------------------------------------------------------------------------------------->

    <!------------------------------------------------------------------------------------------------------------------------------->
    <!-- @fcn		  header_init()   																				                                                           -->
    <!-- @brief		initialize the header bar for use															                                                   -->
    <!-- @details	x																										                                                             -->
    <!------------------------------------------------------------------------------------------------------------------------------->		
    function header_init() {
      header_canvas = document.getElementById("menuBar");
      header_ctx    = header_canvas.getContext("2d");    

      console.clear();
      console.log("Header initialized.");

      //init tab
      activePageTitle = "Home";
      //Load Signature

      logo_pos = getSigInitPos();
			prepareSlide(true);
      printMsg("Fk", "Sl", "header_init()");
      //Load Home Page setup (full-size sign)
      signature_init(true);
    }

    <!------------------------------------------------------------------------------------------------------------------------------->
    <!-- @fcn		  sys_init()												          								                                                  	 -->
    <!-- @brief		initialize the page for operation								                                                                 -->
    <!-- @details	x																										                                                             -->
    <!-- 																													                                                                 -->
    <!-- @pre		any                                                           									                                   -->
    <!-- @post	page components are prepared for generation                   									                                   -->
    <!-- 																													                                                                 -->
    <!------------------------------------------------------------------------------------------------------------------------------->
    function sys_init() {
      
      //Init Header
      header_init();

      //Update Console
      console.clear();
      console.log("System Boot Complete");
      printMsg("Ft", "Su", "sys_init()");
      
    }
  </script>

</head>

<body>

  <!------------------------------------------------------ Menu Bar Shading ------------------------------------------------------->
  <div id="mySidenav" class="sidenav" style="top: 74px; padding: 0px 0px; width: 0px">
  <a href="javascript:clickResp('Home')">Home</a>
  <a href="javascript:clickResp('Embedded')">Embedded</a>
  <a href="javascript:clickResp('Software')">Software</a>
  <a href="javascript:clickResp('T&M Content')">T&M Content</a>
  <a href="javascript:clickResp('Apps')">Apps</a>
  <a href="javascript:clickResp('Smart Home')">Smart Home</a>
  <a href="javascript:clickResp('Prototyping')">Prototyping</a>
  <a href="javascript:clickResp('Helpful Things')">Helpful Things</a>
  <a href="javascript:clickResp('Shared Sandbox')">Shared Sandbox</a>
  <a href="javascript:clickResp('Portfolio Short')">Portfolio Short</a>
  <a href="javascript:clickResp('Dev')">*Dev*</a>
  </div>

  <!------------------------------------------------------- Upper Menu Bar -------------------------------------------------------->
  <table border="0" width="100%" height="60" style="padding:0px;margin:0px">
    <tr>

      <th width="5%">
        <div class="brightness">	  
          <img src="img/menu.png" alt="Site Menu" onclick="menuSel()" style="width:32px;height:32px;">
        </div>
      </th>

      <th valign="center" style="padding:0px; spacing:0px;">

        <canvas id="menuBar" width="1450" height="60" style="">
        </canvas>

      </th>
    </tr>
  </table>

  <!---------------------------------------------------- Main Content Section ----------------------------------------------------->	
  <div id="mainDiv" style="width:100%; height: 950px; position:relative;">

    <iframe id=centerpage src="home.html" style="position:absolute; top:0px; left:0px; width:100%; height:100%; border: none;
    overflow: hidden;color:white;">
    </iframe>

  </div>

  <!------------------------------------------------------------ Footer ----------------------------------------------------------->	
  <table border="0" width="100%" height="60">
    <tr>
      <th width="5%">

        <br>

        <!------------------------------------------------ Profile Link Pics Row -------------------------------------------------->
        <center>

        <a href="https://www.linkedin.com/in/justin-reina" target="_blank">
          <img src="img/linkedin-footer.png" width=40" height="auto" alt="Justin's LinkedIn Profile">
        </a>

        <a href="https://erisdar-iot.slack.com" target="_blank">
          <img src="img/slack-footer.png" width=40" height="auto" alt="Justin's Slack Workspace">
        </a>

        <a href="https://github.com/justinmreina" target="_blank">
          <img src="img/github-footer.png" width=40" height="auto" alt="Justin's GitHub Profile">
        </a>

        <a href="https://www.thingiverse.com/justinmreina/designs" target="_blank">
          <img src="img/thingiverse-footer.png" width=40" height="auto" alt="Justin's Thingiverse Profile">
        </a>

        </center>

        <br>
        <br>

        <!--------------------------------------------------- Summary Link Row ---------------------------------------------------->

        <a href="javascript:clickResp('Home')" style="color:white;">HOME</a> | 
        <a href="javascript:clickResp('Portfolio Short')" style="color:white;">PORTFOLIO</a> | 
        <a href="javascript:clickResp('Contact')" style="color:white;">CONTACT</a> | 
        <a href="javascript:clickResp('Helpful Things')" style="color:white;">RESOURCES</a>

        <br>

        <!-- Copyright Notice (clean, generic statement that matches the flow of the page --> 
        <p style="color:grey"><i>This content is a work in progress (Justin 11/6/21)</i></p>

        <center>

        <a href="javascript:scrollToTop()">
        <img src="img/arrow-up.png" width="80px" height="40px"/>
        </a>

        </center>

      </th>
    </tr>
  </table> 
  
  <!----------------------------------------------------- Page Initialization ------------------------------------------------------->
  <script>
    sys_init();                                                             /* launch to boot page                                  */
    printMsg("Fx", "Sy", "HTML");
  </script>
</body>

</html>

